(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{327:function(e,t,r){var content=r(404);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(65).default)("1b7833da",content,!0,{sourceMap:!1})},403:function(e,t,r){"use strict";r(327)},404:function(e,t,r){var n=r(64)(!1);n.push([e.i,".float-right{float:right;margin-bottom:10px}.modal-body{overflow-y:scroll;max-height:500px}.scan-confirmation{position:absolute;width:100%;height:100%;background-color:hsla(0,0%,100%,.8);display:flex;flex-flow:row nowrap;justify-content:center}",""]),e.exports=n},657:function(e,t,r){"use strict";r.r(t);r(52),r(38),r(3),r(53),r(55),r(41);var n=r(376),o=r(25),c=(r(51),r(12),r(1),r(30),r(20),r(19),r(32),r(15),r(134),r(2),r(80),r(81),r(656)),l=r(184),f=r(377);function d(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var h={components:{VueQrcode:c.a,QrcodeStream:f.QrcodeStream},data:function(){return{camera:"auto",result:null,showScanConfirmation:!1,referenceQr:"",torchActive:!1,torchNotSupported:!1,loading:!1,destroyed:!1,totalRows:1,sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],modalTitle:"Imprimir códigos QR",action:"",modalShow:!1,responsive:!0,fields:[{key:"name",label:"Nombre",sortable:!0},{key:"reference",label:"Referencia",sortable:!0},{key:"actions",label:"Acciones"}],items:[{reference:"",name:""}]}},watch:{},computed:{icon:function(){return this.torchActive?"./images/flash-off.svg":"./images/flash-on.svg"},sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))},showBtnGenerateQr:function(){var e=this.items.filter((function(e){return e.reference.trim().length>0&&e.name.trim().length>0}));return void 0!==e&&e.length===this.items.length}},mounted:function(){},methods:{onInit:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.loading=!0,r.prev=1,r.next=4,e;case 4:n=r.sent,o=n.capabilities,t.torchNotSupported=!o.torch,r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.error(r.t0);case 12:return r.prev=12,t.loading=!1,t.showScanConfirmation="off"===t.camera,r.finish(12);case 16:case"end":return r.stop()}}),r,null,[[1,9,12,16]])})))()},reload:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.destroyed=!0,t.next=3,e.$nextTick();case 3:e.destroyed=!1;case 4:case"end":return t.stop()}}),t)})))()},onDecode:function(content){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.referenceQr=content,e.pause(),t.next=4,e.timeout(600);case 4:e.unpause();case 5:case"end":return t.stop()}}),t)})))()},unpause:function(){this.camera="auto"},pause:function(){this.camera="off"},timeout:function(e){return new Promise((function(t){window.setTimeout(t,e)}))},logErrors:function(e){e.catch(console.error)},paintCenterText:function(e,t){var r,o=d(e);try{for(o.s();!(r=o.n()).done;){var c=r.value,l=c.boundingBox,f=c.rawValue,m=l.x+l.width/2,h=l.y+l.height/2,v=Math.max(12,50*l.width/t.canvas.width);t.font="bold ".concat(v,"px sans-serif"),t.textAlign="center",t.lineWidth=3,t.strokeStyle="#35495e",t.strokeText(c.rawValue,m,h),t.fillStyle="#5cb984",t.fillText(f,m,h);var w=Object(n.a)(c.cornerPoints),y=w[0],x=w.slice(1);t.strokeStyle="red",t.beginPath(),t.moveTo(y.x,y.y);var k,_=d(x);try{for(_.s();!(k=_.n()).done;){var C=k.value,Q=C.x,S=C.y;t.lineTo(Q,S)}}catch(e){_.e(e)}finally{_.f()}t.lineTo(y.x,y.y),t.closePath(),t.stroke()}}catch(e){o.e(e)}finally{o.f()}},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1},showModal:function(){this.modalShow=!0},hideModal:function(){this.modalShow=!1},createObject:function(){return{id:"",reference:"",name:"",price:"",quantity:""}},actionAdd:function(){this.items.push(this.createObject())},actionRemove:function(e,t,r){this.items.splice(t,1)},closeModal:function(){this.hideModal()},generateQr:function(){var e=this,t=new l.a("p","pt","A4");t.setFontSize(8);var r=0;this.items.forEach((function(n,o){var c=280*r,image=e.$refs["refQrCode"+o][0].$el.src;t.setFontSize(14),t.text(35,c+35,"Nombre: "+n.name),n.reference.includes("http")?t.textWithLink("Referencia: "+n.reference.substring(0,60)+"...",35,c+55,{url:n.reference}):t.text(35,c+55,"Referencia: "+n.reference),t.addImage(image,"PNG",15,c+60,180,180),(++r+1)%4==0&&o+1!==e.items.length&&(t.addPage(),r=0)})),t.save()},copy:function(){navigator.clipboard.writeText(this.referenceQr),this.$bvToast.toast("Texto copiado exitosamente",{title:"Texto copiado",variant:"success",solid:!0})}}},v=(r(403),r(61)),component=Object(v.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[r("b-navbar-brand",{attrs:{href:"#"}},[e._v("Generador QR")])],1),e._v(" "),r("b-card",{staticClass:"text-center"},[r("b-tabs",{attrs:{"content-class":"mt-3"}},[r("b-tab",{attrs:{title:"Generar lista de QR",active:""}},[r("b-card",{staticClass:"text-center"},[r("b-table",{staticClass:"mt-10",attrs:{striped:"",hover:"",responsive:"",items:e.items,fields:e.fields,filter:e.filter,"filter-included-fields":e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,stacked:"md","show-empty":"",small:""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"cell(name)",fn:function(t){return[r("b-form-input",{attrs:{type:"text"},model:{value:t.item.name,callback:function(r){e.$set(t.item,"name",r)},expression:"row.item.name"}})]}},{key:"cell(reference)",fn:function(t){return[r("b-form-input",{attrs:{type:"text"},model:{value:t.item.reference,callback:function(r){e.$set(t.item,"reference",r)},expression:"row.item.reference"}})]}},{key:"cell(actions)",fn:function(t){return[r("b-button",{attrs:{size:"sm"},on:{click:function(r){return e.actionRemove(t.item,t.index,r.target)}}},[e._v("\n                Eliminar\n              ")])]}}])}),e._v(" "),r("b-button",{staticClass:"text-left mt-3",on:{click:e.actionAdd}},[e._v("Agregar fila")]),e._v(" "),r("b-button",{directives:[{name:"show",rawName:"v-show",value:e.showBtnGenerateQr,expression:"showBtnGenerateQr"}],staticClass:"text-right mt-3 mr-2",on:{click:e.showModal}},[e._v("Generar códigos QR")])],1),e._v(" "),r("b-modal",{ref:"modalQR",attrs:{title:e.modalTitle,id:"modalQR"},on:{cancel:e.closeModal,ok:e.generateQr},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[r("div",{attrs:{id:"divModalQR"}},e._l(e.items,(function(t,n){return r("b-row",{key:n},[t.reference&&t.name?r("b-col",{staticClass:"my-1 text-center",attrs:{lg:"12"}},[r("b-card",{attrs:{title:t.name}},[t.reference.includes("http")?r("a",{attrs:{href:t.reference,target:"_blank"}},[e._v(e._s(t.reference))]):r("h5",[e._v(e._s(t.reference))]),e._v(" "),r("vue-qrcode",{ref:"refQrCode"+n,refInFor:!0,attrs:{value:t.reference,width:300}})],1)],1):e._e()],1)})),1),e._v(" "),r("div",{attrs:{id:"pdf"}})])],1),e._v(" "),r("b-tab",{attrs:{title:"Escanear QR"},on:{click:e.reload}},[r("b-card",{staticClass:"text-center"},[r("b-row",{staticClass:"mb-10"},[r("b-col",{staticClass:"my-1",attrs:{lg:"12"}},[e.referenceQr.includes("http")?r("a",{ref:"textCopy",attrs:{href:e.referenceQr,target:"_blank"}},[e._v(e._s(e.referenceQr))]):r("h5",{ref:"textCopy"},[e._v(e._s(e.referenceQr))]),e._v(" "),r("b-button",{directives:[{name:"show",rawName:"v-show",value:e.referenceQr,expression:"referenceQr"}],staticClass:"text-right mr-2",on:{click:e.copy}},[e._v("Copiar texto")]),e._v(" "),r("br"),e._v(" "),r("b-button",{staticClass:"text-right mb-3 mt-3",on:{click:e.reload}},[e._v("Recargar")]),e._v(" "),e.destroyed?e._e():r("qrcode-stream",{key:e._uid,attrs:{track:e.paintCenterText,camera:e.camera},on:{decode:e.onDecode,init:e.onInit}},[r("button",{attrs:{disabled:e.torchNotSupported},on:{click:function(t){e.torchActive=!e.torchActive}}},[r("img",{attrs:{src:e.icon,alt:"toggle torch"}})]),e._v(" "),e.loading?r("div",{staticClass:"loading-indicator"},[e._v("\n                  Cargando...\n                ")]):e._e(),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showScanConfirmation,expression:"showScanConfirmation"}],staticClass:"scan-confirmation"},[r("img",{attrs:{src:"./images/checkmark.svg",alt:"Checkmark",width:"128px"}})])])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);